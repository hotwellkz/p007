[build]
  command = "npm run build"
  publish = "dist"
  functions = "netlify/functions"

# Настройки для игнорирования Firebase API ключей в собранном коде
# Firebase API ключи должны быть доступны в клиентском коде, это нормально
# Отключаем умное обнаружение секретов, так как Firebase API ключи легитимно находятся в клиентском коде
[build.environment]
  # Полностью отключаем умное обнаружение секретов
  # Firebase API ключи должны быть в клиентском коде - это нормально для SPA приложений
  SECRETS_SCAN_SMART_DETECTION_ENABLED = "false"

# Настройки для Netlify Functions
[functions]
  node_bundler = "esbuild"
  # Увеличиваем таймаут для функций (максимум 26 секунд для платных планов)
  # Для бесплатного плана максимум 10 секунд
  included_files = ["netlify/functions/**"]

# Редирект для SPA (Single Page Application)
# Все запросы перенаправляются на index.html для работы React Router
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200

